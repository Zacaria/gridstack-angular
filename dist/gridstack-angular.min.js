/**
 * gridstack-angular - Angular Gridstack.js directive
 * @version v0.5.0-dev
 * @author Kevin Dietrich
 * @link https://github.com/kdietrich/gridstack-angular#readme
 * @license MIT
 */
!function(){"use strict";angular.module("gridstack-angular",[]);var t=angular.module("gridstack-angular");t.controller("GridstackController",["$scope",function(t){var n=null;this.init=function(t,e){return n=t.gridstack(e).data("gridstack")},this.removeItem=function(t){return n?n.removeWidget(t,!1):null},this.addItem=function(t){return n?(n.makeWidget(t),t):null}}]),t.directive("gridstack",["$timeout",function(t){return{restrict:"A",controller:"GridstackController",scope:{onChange:"&",onDragStart:"&",onDragStop:"&",onResizeStart:"&",onResizeStop:"&",options:"="},link:function(n,e,i,a,r){a.init(e,n.options),e.on("change",function(e,i){t(function(){n.$apply(),n.onChange({event:e,items:i})})}),e.on("dragstart",function(t,e){n.onDragStart({event:t,ui:e})}),e.on("dragstop",function(e,i){t(function(){n.$apply(),n.onDragStop({event:e,ui:i})})}),e.on("resizestart",function(t,e){n.onResizeStart({event:t,ui:e})}),e.on("resizestop",function(e,i){t(function(){n.$apply(),n.onResizeStop({event:e,ui:i})})})}}}]),t.directive("gridstackItem",["$timeout",function(t){return{restrict:"A",controller:"GridstackController",require:"^gridstack",scope:{gridstackItem:"=",onItemAdded:"&",onItemRemoved:"&",gsItemX:"=",gsItemY:"=",gsItemWidth:"=",gsItemHeight:"=",gsItemMinWidth:"=",gsItemMinHeight:"=",gsItemMaxWidth:"=",gsItemMaxHeight:"=",gsItemAutopos:"="},link:function(n,e,i,a){$(e).attr("data-gs-x",n.gsItemX),$(e).attr("data-gs-y",n.gsItemY),$(e).attr("data-gs-width",n.gsItemWidth),$(e).attr("data-gs-height",n.gsItemHeight),$(e).attr("data-gs-min-width",n.gsItemMinWidth),$(e).attr("data-gs-min-height",n.gsItemMinHeight),$(e).attr("data-gs-max-width",n.gsItemMaxWidth),$(e).attr("data-gs-max-height",n.gsItemMaxHeight),$(e).attr("data-gs-auto-position",n.gsItemAutopos);var r=(a.addItem(e),e.data("_gridstack_node"));t(function(){n.onItemAdded({item:r})}),n.$watch(function(){return $(e).attr("data-gs-x")},function(t){n.gsItemX=t}),n.$watch(function(){return $(e).attr("data-gs-y")},function(t){n.gsItemY=t}),n.$watch(function(){return $(e).attr("data-gs-width")},function(t){n.gsItemWidth=t}),n.$watch(function(){return $(e).attr("data-gs-height")},function(t){n.gsItemHeight=t}),n.$watch(function(){return $(e).attr("data-gs-min-width")},function(t){n.gsItemMinWidth=t}),n.$watch(function(){return $(e).attr("data-gs-min-height")},function(t){n.gsItemMinHeight=t}),n.$watch(function(){return $(e).attr("data-gs-max-width")},function(t){n.gsItemMaxWidth=t}),n.$watch(function(){return $(e).attr("data-gs-max-height")},function(t){n.gsItemMaxHeight=t}),e.bind("$destroy",function(){var t=e.data("_gridstack_node");n.onItemRemoved({item:t}),a.removeItem(e)})}}}])}();
